<html>
    <head>
        <title>redux intro</title>
        <script src = 'redux.js'></script>
        <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <script type = 'text/babel'>
            function spinnerReducer(currentState = 50, action) {
                if (action.type === 'UP') return currentState + 1;
                if (action.type === 'DOWN') return currentState - 1;
                return currentState;
            };

            var store = Redux.createStore(spinnerReducer);
            store.getState();

            class Spinner extends React.Component {

                onUpClick = () => {
                    const up_action = { type : 'UP'};
                    this.props.store.dispatch(up_action)
                };

                onDownClick = () => {
                    const down_action = { type : 'DOWN' };
                    this.props.store.dispatch(down_action);
                };
               
                render() {
                    const { store } = this.props, value = store.getState();
                    return (
                        <div>
                            <h3>Spinner</h3>
                            <hr />
                            <input type = "button" value = "down" onClick = {this.onDownClick}/>
                            <span> [ {value} ] </span>
                            <input type = 'button' value = 'up' onClick = {this.onUpClick}/>
                        </div>

                    );
                };
            };

            function renderApp() {
                ReactDOM.render( <Spinner store = {store}/>, document.getElementById('root'));
            };

           renderApp();
           store.subscribe(renderApp);

        </script>


    </head>
    <body>
        <div id = 'root'>
            <input type = 'button' value = 'down' />
            <span> [ 0 ]</span>
            <input type = 'button' value = 'up' />
        </div>
    </body>
</html>

<!-- function spinnerReducer(currentState = 0, action) {
    if (action.type === 'UP') return currentState + 1;
    if (action.type === 'DOWN') return currentState - 1;
    return currentState;
}; -->
<!-- var up_action = { type : 'UP' };
var down_action = { type : 'DOWN' };
var store = Redux.createStore(spinnerReducer);
store.subscribe( () => console.log(`current state = ${store.getState()} `) );
store.dispatch(up_action);
store.getState();
In Redux, subscriptions are called after the root reducer has returned the new state,
so you may dispatch in the subscription listeners. -->